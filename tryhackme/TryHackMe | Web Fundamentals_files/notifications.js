function readNotifications(){return new Promise(function(_0x43e78b,_0x1df38d){$['post']('/notifications/read',{},async function(_0x1efdb6){});});}function getNotifications(){return new Promise(function(_0x419ddc,_0x5e4378){$['getJSON']('/notifications/get',async function(_0x2e0368){return _0x419ddc(_0x2e0368);});});}function getUnreadMessages(){return new Promise(function(_0x2d5ca3,_0x599b36){$['getJSON']('/message/get-unseen',async function(_0x534d90){return _0x2d5ca3(_0x534d90);});});}const notificationEl=document['querySelector']('#nav-notifications');function populateNotifications(_0x22559a){if(_0x22559a['length']>0x0){const _0x1170f3=_0x22559a['filter'](_0x308fc0=>_0x308fc0['read']==![]);if(_0x1170f3['length']>0x0){document['querySelector']('#notification-dot')['style']['display']='block';document['querySelector']('#notification-icon')['className']+='\x20animated\x20swing';}else{readNotificationsReq=!![];}notificationEl['innerHTML']='';notificationEl['style']['padding']='0';for(const _0x4b8d7f of _0x22559a){let _0x545ea3;if(_0x4b8d7f['icon']=='default'||_0x4b8d7f['icon']['length']==0x0){_0x545ea3='<i\x20class=\x22fad\x20fa-info-square\x20small\x20text-blue\x20size-14\x22></i>';}else if(_0x4b8d7f['icon']=='congrats'){_0x545ea3='<img\x20height=\x2218\x22\x20src=\x22https://assets.tryhackme.com/img/icons/confetti.png\x22>';}else if(_0x4b8d7f['icon']=='message'){_0x545ea3='<img\x20height=\x2218\x22\x20src=\x22https://assets.tryhackme.com/img/icons/message.png\x22>';}else{_0x545ea3='<img\x20alt=\x22icon\x22\x20class=\x22avatar-tiny\x22\x20src=\x22'+_0x4b8d7f['icon']+'\x22>';}let _0x20bec9='<div\x20class=\x22row\x20notification\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col-auto\x20text-center\x22>'+_0x545ea3+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22col\x20p-0\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div>'+_0x4b8d7f['description']+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27size-12\x20faded\x20mt-1\x27>'+prettifyShd(_0x4b8d7f['created'])+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>';notificationEl['innerHTML']+=_0x20bec9;}}else{notificationEl['innerHTML']='<div\x20class=\x22text-center\x20mt-2\x20mb-2\x22>You\x20have\x20no\x20notifications</div>';}}async function initNotifications(){const _0x43b5d7=await getNotifications();const _0x551c06=await getUnreadMessages();if(_0x551c06['unseen']['length']>0x0){_0x43b5d7['unshift']({'created':_0x551c06['unseen'][0x0]['inserted'],'description':'You\x20have\x20'+_0x551c06['unseen']['length']+'\x20<a\x20href=\x22/messages\x22>unread\x20conversation(s)</a>.','icon':'message','read':![]});}populateNotifications(_0x43b5d7);}let readNotificationsReq=![];document['querySelector']('#notification-btn')['addEventListener']('click',function(){$('#notification-dot')['fadeOut'](0x1f4);if(!readNotificationsReq){readNotifications();readNotificationsReq=!![];}});$(document)['ready'](async function(){setTimeout(function(){initNotifications();},0x1f4);});