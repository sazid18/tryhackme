let chart=document['querySelector']('#chart-data');const showUserAmount=0x32;async function updateScoreboard(_0x4ca63d){const _0x22cc0b=_0x4ca63d;let _0x4a4e9d=0x2;if(ctfRoom){_0x4a4e9d+=0x2;document['querySelector']('#scoreboard_table')['classList']='table\x20table-bordered\x20table-condensed\x20table-header-rotated';}let _0x5595d0=document['querySelector']('#scoreboard_header');if(_0x22cc0b['length']>0x0&&_0x22cc0b[0x0]['taskData']['length']>0x0&&_0x5595d0){_0x5595d0['innerHTML']='<th\x20class=\x22rotated\x22\x20colspan=\x22'+_0x4a4e9d+'\x22><div\x20class=\x22rotated-left-edge\x22></div></th>';_0x22cc0b[0x0]['taskData']['forEach'](function(_0x5b4e95){let _0x17e1d6='[Task\x20'+_0x5b4e95['taskNo']+']\x20#'+_0x5b4e95['questionNo'];_0x17e1d6='<th\x20class=\x22rotated\x22><div\x20class=\x22category-header-0\x22><span>'+_0x17e1d6+'</span></div></th>';_0x5595d0['innerHTML']+=_0x17e1d6;});_0x5595d0['innerHTML']+='<th\x20class=\x22rotated\x22><div\x20class=\x22rotated-right-edge\x22></div></th>';}let _0x3d4607=document['querySelector']('#scoreboard_body');if(_0x3d4607){_0x3d4607['innerHTML']='';_0x22cc0b['forEach'](async function(_0x3286be,_0xd037b7){const _0x22e196=_0x3286be['rankNo']?_0x3286be['rankNo']:_0xd037b7+0x1;let _0x29cee7='<tr\x20class=\x22scoreboard_row\x22>';_0x29cee7='<td\x20class=\x22scoreboard_rank\x22>'+_0x22e196+'</td>';if(ctfRoom){teamUni=_0x3286be['university'];let _0x25267e='';for(let _0x28f16f of _0x3286be['members']){_0x25267e+='<a\x20class=\x22nocss\x22\x20target=\x22_blank\x22\x20href=\x22/p/'+_0x28f16f+'\x22>'+_0x28f16f+'</a></br>';}teamUniCode='<img\x20class=\x22uni-icon-very-small\x22\x20data-toggle=\x22tooltip\x22\x20data-html=\x22true\x22\x20title=\x22'+jsUcfirst(teamUni)+'\x22\x20data-placement=\x22right\x22\x20onerror=\x22teamImageRan(this)\x22\x20src=\x22https://assets.tryhackme.com/img/unis/'+teamUni+'.jpg\x22>';_0x29cee7+='<td\x20class=\x22scoreboard_name\x22>'+teamUniCode+'</td>';_0x29cee7+='<td\x20class=\x22scoreboard_name\x22>'+_0x3286be['name']+'</td>';_0x29cee7+='<td\x20class=\x22scoreboard_name\x20small\x20faded\x22>'+_0x25267e+'</td>';}else{_0x29cee7+='<td\x20class=\x22scoreboard_name\x22\x20style=\x27line-height:0;\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x27d-inline-block\x27>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22media\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<img\x20class=\x22user-square-img-med\x20mr-2\x22\x20src=\x22'+_0x3286be['avatar']+'\x22/>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22media-body\x20text-left\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<h5\x20class=\x22mb-2\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<a\x20class=\x22nocss\x22\x20href=\x22/p/'+_0x3286be['name']+'\x22>'+_0x3286be['name']+'</a>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</h5>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p\x20class=\x27m-0\x20size-12\x27><span\x20class=\x22level-simple-design\x20level-'+_0x3286be['level']+'\x22></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>';}_0x3286be['taskData']['forEach'](function(_0x145148){let _0x90c8e3='<i\x20class=\x22fas\x20fa-check-circle\x20scoreboard-points\x22\x20data-toggle=\x22tooltip\x22\x20data-placement=\x22top\x22\x20title=\x22'+_0x145148['score']+'\x20points\x22></i>';if(!_0x145148['correct']){_0x90c8e3='<i\x20class=\x22fas\x20fa-check-circle\x22\x20style=\x22opacity:\x200.2;\x22></i>';}_0x29cee7+='<td\x20class=\x22scoreboard_check\x22>'+_0x90c8e3+'</td>';});_0x29cee7+='<td\x20class=\x22scoreboard_score\x22>'+_0x3286be['totalScore']+'</td>';_0x29cee7+='</tr>';_0x3d4607['innerHTML']+=_0x29cee7;$('.scoreboard-points')['tooltip']();});}if(ctfRoom){$(function(){$('.uni-icon-very-small')['tooltip']();});}}function getTeamUni(_0x2b4db1,_0x5955ae){for(let _0x61ecbe of _0x2b4db1){if(_0x61ecbe['name']==_0x5955ae){return _0x61ecbe['university'];}}return'N/a';}async function getAllTeams(){return new Promise(async function(_0x571adc,_0x18888f){$['getJSON']('/api/mentor/getAllTeams',function(_0x55557e){return _0x571adc(_0x55557e);});});}function showChart(_0x3c1653){$['getJSON']('/api/getgraphdata/10/'+_0x3c1653,async function(_0x34b846){populateChart(_0x34b846);});}function populateChart(_0x25c7de){if(_0x25c7de['length']>0x0){updateScoreboard(_0x25c7de);if(ctfRoom){generateBarChart(_0x25c7de);}else{const _0x973b10=genChartDataNew(_0x25c7de);setChartDataNew(_0x973b10);}}else{const _0x507858=document['querySelector']('#scoreboard');if(_0x507858){_0x507858['innerHTML']='</br><div\x20class=\x22alert\x20alert-info\x22\x20id=\x22ctf-scoreboard\x22\x20role=\x22alert\x22>There\x20are\x20no\x20scores\x20to\x20show\x20yet.</div>';let _0x13b8f5=document['querySelector']('#chart-data');_0x13b8f5['innerHTML']='<div\x20class=\x22alert\x20alert-info\x22\x20id=\x22ctf-chart\x22\x20role=\x22alert\x22>No\x20chart\x20data\x20to\x20display.</div>';_0x13b8f5['style']['height']='auto';}}}function generateLineGraph(_0x579e2b){let _0x1144a2=[];let _0x173394=0x32;for(let _0x161611 of _0x579e2b){_0x1144a2['push']({'name':_0x161611['name'],'data':_0x161611['data']});for(const _0x1adf0a of _0x161611['data']){if(_0x1adf0a['length']>=0x2){if(_0x1adf0a[0x1]>_0x173394){_0x173394=_0x1adf0a[0x1]+0x32;}}}}const _0x44e359='Highest\x20Scoring\x20Users';Highcharts['chart'](chart,{'chart':{'backgroundColor':'rgba(0,0,0,0)'},'title':{'text':_0x44e359},'exporting':{'enabled':![]},'credits':{'enabled':![]},'yAxis':{'lineWidth':0x0,'title':{'text':''},'min':0x0,'max':_0x173394},'xAxis':{'labels':{'enabled':![]},'min':0x1,'tickInterval':0x1},'legend':{'layout':'vertical','align':'right','verticalAlign':'middle'},'series':_0x1144a2,'responsive':{'rules':[{'condition':{'maxWidth':0x1f4},'chartOptions':{'legend':{'layout':'horizontal','align':'center','verticalAlign':'bottom'}}}]}});}function generateBarChart(_0x5790d9){let _0x474222=[];let _0x55778f=[];let _0x90dd3a=[];for(let _0x2f0a0f of _0x5790d9){if(_0x2f0a0f['totalScore']>0x0){_0x55778f['push'](_0x2f0a0f['name']['slice'](0x0,0xc));_0x90dd3a['push'](_0x2f0a0f['totalScore']);}}Highcharts['chart'](chart,{'title':{'text':'Team\x20Score'},'chart':{'type':'column'},'exporting':{'enabled':![]},'credits':{'enabled':![]},'yAxis':{'title':{'text':''},'min':0x0},'xAxis':{'categories':_0x55778f},'series':[{'type':'column','colorByPoint':!![],'data':_0x90dd3a,'showInLegend':![]}],'tooltip':{'pointFormat':'Score:\x20<b>{point.y}</b>'},'legend':{'layout':'vertical','align':'right','verticalAlign':'middle'},'responsive':{'rules':[{'condition':{'maxWidth':0x12c},'chartOptions':{'legend':{'layout':'horizontal','align':'center','verticalAlign':'bottom'}}}]}});}function genChartDataNew(_0x1bda28){console['log'](_0x1bda28);let _0x25b8f9=[];let _0x277d7d=[];let _0x2978f='-';for(const _0x2ae52b of _0x1bda28){_0x277d7d['push']({'name':_0x2ae52b['name'],'currentPoints':0x0,'data':[]});for(const _0x598d49 of _0x2ae52b['taskData']){_0x25b8f9['push']({'name':_0x2ae52b['name'],'points':_0x598d49['score'],'awarded':_0x598d49['timeCorrect']});}}_0x25b8f9=_0x25b8f9=_['sortBy'](_0x25b8f9,'awarded');let _0x4d7b1b=[];for(const _0x30ec34 of _0x25b8f9){if(_0x30ec34['awarded']!=0x0){for(let _0x5df0eb of _0x277d7d){if(_0x5df0eb['name']==_0x30ec34['name']){_0x5df0eb['currentPoints']+=_0x30ec34['points'];_0x5df0eb['data']['push'](_0x5df0eb['currentPoints']);}else{_0x5df0eb['data']['push'](_0x5df0eb['currentPoints']);}}_0x4d7b1b['push'](_0x30ec34['awarded']);}}console['log'](_0x277d7d,_0x4d7b1b);return{'series':_0x277d7d,'labels':_0x4d7b1b};}let apexChart;let apexChartAnimations={'enabled':!![]};function setChartDataNew(_0xbf8920){if(apexChart)apexChart['destroy']();const _0x476a70=_0xbf8920['labels'];let _0x555dff=[];for(const _0x55ebe5 of _0x476a70){_0x555dff['push'](prettifyDate3(_0x55ebe5));}const _0x4f1fbb=_0xbf8920['series'];let _0x4b7488=[];for(const _0x58dbfe of _0x4f1fbb){_0x4b7488['push']({'name':_0x58dbfe['name'],'type':'line','data':_0x58dbfe['data']});}var _0x5bc0ce={'series':_0x4b7488,'chart':{'animations':apexChartAnimations,'zoom':{'enabled':![]},'height':0x15e,'type':'line','toolbar':{'show':![]}},'stroke':{'curve':'smooth'},'fill':{'type':'solid','opacity':[0.35,0x1]},'labels':_0x555dff,'markers':{'size':0x0},'yaxis':{},'xaxis':{'tooltip':{'enabled':![]},'labels':{'show':![]}},'selection':{'enabled':![]},'tooltip':{'shared':!![],'intersect':![],'y':{'formatter':function(_0x519b06){if(typeof _0x519b06!=='undefined'){return _0x519b06['toFixed'](0x0)+'\x20points';}return _0x519b06;}},'x':{'format':'dd\x20MMM'}}};apexChart=new ApexCharts(document['querySelector']('#chart-data'),_0x5bc0ce);apexChart['render']();apexChartAnimations['enabled']=![];}